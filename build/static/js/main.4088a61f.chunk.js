(this["webpackJsonpmy-ssr-app"]=this["webpackJsonpmy-ssr-app"]||[]).push([[0],{39:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),s=n(26),i=n.n(s),o=(n(39),n(27)),a=n(9),d=n(2),j=n(33),u=function(t){return Object(c.jsx)("h1",{children:"Home"})},h=n(14),l=n.n(h),b=n(30),f=n(11),O=n(15),x=n.n(O),p=n(31),v=function(t){return Object(p.hashCode)().value(JSON.stringify(t))},g=!("undefined"!==typeof window&&window.document&&window.document.createElement),m=function(){return Object(r.useContext)(d.d).staticContext},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=v(t),c=Object(r.useState)(),s=Object(f.a)(c,2),i=s[0],o=s[1],a=Object(r.useState)(!e),d=Object(f.a)(a,2),j=d[0],u=d[1],h=Object(r.useState)(null),O=Object(f.a)(h,2),p=O[0],g=O[1];return Object(r.useEffect)((function(){e||function(){var t=Object(b.a)(l.a.mark((function t(e){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.prev=1,t.next=4,x()(e);case 4:n=t.sent,c=n.data,o(c),u(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),g(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()(t)}),[n,e]),{data:i,loading:j,error:p}},_=function(t){var e=v(t),n=F(e),c=m(),s=Object(r.useCallback)((function(t){console.log("ssrRequest");var n=x()(t);c.poolFetches.push(new Promise((function(t,r){n.then((function(n){c.set(e,n.data),t()})).catch(r)})))}),[c,e]);g&&!n&&s(t);var i=w(t,!!n&&!("undefined"!==typeof window&&window.__ssrFetchForce__)),o=i.data,a=i.loading;return{data:o||n,loading:!n&&a,error:i.error}},F=function(t,e){var n=m();if(n&&n.get){var c=n.get(t);if(c)return c}return n&&n.fetch&&n.fetch[t]?n.fetch[t]:!g&&window.__ssrFetch__&&window.__ssrFetch__[t]?window.__ssrFetch__[t]:(n&&(n.fetch[t]=e),e)},y={url:"http://localhost:3010/photos"},C=function(t){var e=w(y),n=e.data;if(e.loading)return Object(c.jsx)("div",{children:"Loading..."});var r=n;return console.log("show photos",r),Object(c.jsx)("h1",{children:"Details"})},L=function(t){var e,n=_((e=t.postId,{url:"http://localhost:3010/posts/".concat(e,"/comments")})),r=n.data;if(n.loading)return Object(c.jsx)("div",{children:"Loading..."});var s=r;return console.log("show comments",s),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h5",{children:["Show comments ",s.length]}),s.map((function(t){return Object(c.jsx)("div",{children:t.name},t.id)}))]})},S={url:"http://localhost:3010/posts"},k=function(t){var e=_(S),n=e.data;if(e.loading)return Object(c.jsx)("div",{children:"Loading..."});var r=n;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"List of posts"}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{children:r.slice(0,5).map((function(t){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:t.title},t.id),Object(c.jsx)("p",{children:t.body}),Object(c.jsx)(L,{postId:t.id}),Object(c.jsx)("hr",{})]},t.id)}))}),Object(c.jsx)("hr",{}),Object(c.jsx)("hr",{})]})},E=function(t){var e=t.staticContext;return(void 0===e?{}:e).status=404,Object(c.jsx)("h1",{children:"NotFound"})};function I(){var t=Object(o.a)(["\n  padding: 20px;\n"]);return I=function(){return t},t}var D=j.a.div(I());var J=function(){return Object(r.useEffect)((function(){}),[]),Object(c.jsxs)(D,{children:[Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(a.b,{to:"/",children:"Home"})}),Object(c.jsx)("li",{children:Object(c.jsx)(a.b,{to:"/details",children:"Details"})}),Object(c.jsx)("li",{children:Object(c.jsx)(a.b,{to:"/list",children:"List"})})]}),Object(c.jsxs)(d.c,{children:[Object(c.jsx)(d.a,{path:"/",exact:!0,component:u}),Object(c.jsx)(d.a,{path:"/list",component:k}),Object(c.jsx)(d.a,{path:"/details",component:C}),Object(c.jsx)(d.a,{component:E})]})]})},P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),c(t),r(t),s(t),i(t)}))};i.a.hydrate(Object(c.jsx)(a.a,{children:Object(c.jsx)(J,{})}),document.getElementById("root")),P()}},[[66,1,2]]]);
//# sourceMappingURL=main.4088a61f.chunk.js.map